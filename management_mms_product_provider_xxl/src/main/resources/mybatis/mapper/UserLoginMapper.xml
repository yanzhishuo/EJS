<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cebbank.management_mms_product_provider.mapper.UserLoginMapper">

    <!--根据用户id查询用户-->
    <select id="selectUserLoginByUserLoginId" resultType="com.cebbank.management_mms_product_provider.common.pojo.ShopEmpLogin">
        select sel.shop_emp_login_id,`shop_emp_login_account`,`shop_emp_login_password`,`shop_emp_login_status`,ser.shop_emp_role_name from shop_emp_login sel inner join
        shop_emp_and_emp_role seer inner join shop_emp_role ser
        on seer.shop_emp_login_id = sel.shop_emp_login_id and ser.shop_emp_role_id = seer.shop_emp_and_emp_role_id
        where sel.shop_emp_login_id =#{shopEmpLoginId} and shop_emp_login_status = 1
        </select>

    <select id="selectUserLoginByPhoneAndPassword" resultType="com.cebbank.management_mms_product_provider.common.pojo.ShopEmpLogin">
        select sel.shop_emp_login_id,`shop_emp_login_account`,ser.shop_emp_role_id,`shop_emp_login_password`,`shop_emp_login_status`,shop_emp_role_name from shop_emp_login sel inner join
        shop_emp_and_emp_role seer inner join shop_emp_role ser
        on seer.shop_emp_login_id = sel.shop_emp_login_id and ser.shop_emp_role_id = seer.shop_emp_and_emp_role_id
        where shop_emp_login_account = #{shopEmpLoginAccount} and shop_emp_login_password= #{shopEmpLoginPassword} and shop_emp_login_status = 1
    </select>
</mapper>